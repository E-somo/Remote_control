
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body {
            background-color: #15b337;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .main-container {
            background-color: #15b337;
            width: 65%;
            margin: 0 auto;
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .button-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            padding: 20px;
        }

        .styled-button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            height: fit-content;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .styled-button:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <h2> Remote contact addition and bulky SMS Sending </h2>
        <div class="button-container">
            <button class="styled-button" onclick="showVideoAlert() ">How to remotely add<br><br>Contact to server</button>
            <button class="styled-button" onclick="showImageAlert()">Add contact to server  <br> <br> via your Google sheet</button>
            <button class="styled-button" onclick="showGoogleSheetAlert()"> remotely Send  SmS  <br> <br>To all Members  </button>
        </div>
    </div>


    <script>
    
function showImageAlert() {
    Swal.fire({
        title: 'Image Alert',
        html: '<img src="https://example.com/image.jpg" alt="Image">' +
            '<p>Text above the image</p>',
        confirmButtonText: 'OK',
        didClose: () => {
            openForm();
        }
    });
}


function showVideoAlert() {
    // Create a custom HTML element for the video
    const videoElement = document.createElement("div");
    videoElement.innerHTML = `
        <video width="560" height="315" controls>
            <source src="https://github.com/E-somo/downloads/raw/main/New%20creative%20video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <p>Text below the video</p>
    `;

    // Show the Swal modal with the custom HTML
    Swal.fire({
        title: 'Video Alert',
        html: videoElement,
        confirmButtonText: 'OK',
        showCloseButton: true, // Optionally show a close button
    });
}

        function showGoogleSheetAlert() {
            Swal.fire({
                title: 'Google Sheet Alert',
                html: '<p>Click the button below to open the Google Sheet:</p>' +
                      '<a href="https://docs.google.com/spreadsheets/d/your-sheet-id/edit" target="_blank">' +
                      '<button>Open Google Sheet</button></a>',
                confirmButtonText: 'Close',
            });
        } 
        
        
         function openForm() {
            Swal.fire({
                title: 'Enter Data',
                html:
                    '<input id="field1" class="swal2-input" placeholder="Field 1">' +
                    '<input id="field2" class="swal2-input" placeholder="Field 2">' +
                    '<input id="field3" class="swal2-input" placeholder="Field 3">',
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'Submit',
                preConfirm: () => {
                    const field1 = Swal.getPopup().querySelector('#field1').value;
                    const field2 = Swal.getPopup().querySelector('#field2').value;
                    const field3 = Swal.getPopup().querySelector('#field3').value;

                    if (field2*1 === field1 * 2) {
                        reportTask(field1, field2, field3);
                        checkUpdate();
                    } else {
                        Swal.showValidationMessage('Field 2 must be equal to Field 1 times 2!');
                        return false;
                    }
                }
            });
        }

        function reportTask(field1, field2, field3) {
            fetch('https://docs.google.com/forms/d/1L_FLFdromihjsSl-IHzFXHOLrpYtZsC_0m2DcaPnMrI/formResponse', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: 'entry.1204219384=' + encodeURIComponent(field1) +
                        '&entry.1167664038=' + encodeURIComponent(field2) +
                        '&entry.1234567890=' + encodeURIComponent(field3),
            })
            .then(response => {
                console.log(response);
                Swal.fire({
                    icon: 'success',
                    title: 'Data Submitted Successfully!',
                });
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
        
        
        function checkUpdate() {
        const base = "https://docs.google.com/spreadsheets/d/1raAO6o87GaS0-OFxshAwVVfN_4xPHRrTJP0PLyCl8h4/gviz/tq?gid=1772862831";
        const query = "Select B, C, D";
        const url = base + "&tq=" + encodeURIComponent(query);

        fetch(url)
            .then(response => response.text())
            .then(data => {
                const jsonResponse = JSON.parse(data.match(/(?<=\()[\s\S]*(?=\);)/)[0]);
                handleResponse(jsonResponse);
            })
            .catch(error => {
                console.error(error);
                displayResult("Error fetching data");
            });
    }

    function handleResponse(response) {
        if (response.status === "ok") {
            const rows = response.table.rows;
            const columnBValues = rows.map(row => row.c[0] ? row.c[0].v : null);

            const targetValue = "exampleField";
const rowIndex = columnBValues.findIndex(value => value && value.includes(targetValue));

if (rowIndex !== -1) {
    const rowData = rows[rowIndex].c.map(cell => cell ? cell.v : null);
    const alertMessage = `${rows[rowIndex].c[0].v}`;

    alert(alertMessage);
} else {
    alert(`Column B does not contain '${targetValue}'`);
    // Replace the following lines with the actual values or logic
    const field1 = "exampleField1fff";
    const field2 = "exampleField2";
    const field3 = "exampleField3";
    reportTask(field1, field2, field3);
}
        } else {
          //  displayResult("Error in response");
        }
    }

     
        
        
    </script>

</body>
</html>
