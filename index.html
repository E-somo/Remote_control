<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body {
            background-color: #15b337;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .main-container {
            background-color: #15b337;
            width: 65%;
            margin: 0 auto;
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .button-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            padding: 20px;
        }

        .styled-button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            height: fit-content;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .styled-button:hover {
            background-color: #2980b9;
        }

        #changeSheetBtn {
            background-color: #4CAF50; /* Green */
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 5px;
        }
    </style>
</head>
<body>
   
    <div class="main-container">
        <h2 style="text-align:center;">
    <h2><big>SBMA</big> <br> <br>Students/staff Behavior Monitoring AI Agent <br> <br>
Remote SMS Customization
Dashboard 
</h2>
        <div class="button-container">
            <button class="styled-button" onclick="showVideoAlert() "> How to use Remote SMS <br><br>Customization Dashboard</button>
            <button class="styled-button" onclick="showImageAlert()">Remotely Add/Edit  <br> <br> contacts For Group Message</button>
            <button class="styled-button" onclick="showGoogleSheetAlert()"> Remotely customize   <br> <br>Indidualized Bulky SMS  </button>
        </div>
        <button onclick="showLoginModal()">Login Free Instead ?? </button>
    </div>


    <script> 

    showLoginModal();

    var field1 = "not";
    var field2 = "not";
    var field3 = "not";
    var fieldSerch="get";
    var  varfor =0;
    
function showImageAlert() {
    Swal.fire({
        title: 'Suitable for Group Message',
        allowOutsideClick: false,
        html: `
            <p>
                To send a common message to all your prepared and updated group, send a normal SMS to your updated server with the following command:<br>
                <br>
                <b>CMD7bulk:</b> followed by the message to send.<br>
                Example: CMD7bulk: dear Parent/staff, The meeting is shifted to Tuesday 9:00 AM. Thanks.<br>
                <br>
                <b>N.B:</b> The total message characters should <b>not exceed 160.</b><br>
                <br>
                If you  want to see the sample google sheet contact, click <a href="javascript:void(0);" onclick="showSamplePicture()">here</a> <br> <br>To login to your contact , set up  or updating contact <b>click Ok.<br>
            </p>`,
        confirmButtonText: 'OK',
        didClose: () => {
            openForm();
        }
    });
}

function showSamplePicture() {
    Swal.fire({
        text: 'N.B Remember, in Column B, input full names, and in Column C, provide the corresponding contact phone numbers. Failure to adhere to this format may result in the functionality not working correctly.',
        imageUrl: 'https://raw.githubusercontent.com/E-somo/Remote_control/main/contactsview.PNG',
        imageAlt: 'Sample Picture',
        allowOutsideClick: false,
        confirmButtonText: 'OK'
    });
}

function showSamplePicture2() {
    Swal.fire({
        text: 'N.B Remember, in Column B, input full Message contents, and in Column C, provide the message receiver contact phone numbers. Failure to adhere to this format may result in the functionality not working correctly.',
        imageUrl: 'https://raw.githubusercontent.com/E-somo/Remote_control/main/graduation.PNG',
        imageAlt: 'Sample Picture',
        allowOutsideClick: false,
        confirmButtonText: 'OK'
    });
}


function showVideoAlert() {
    // Create a custom HTML element for the video
    const videoElement = document.createElement("div");
    videoElement.innerHTML = `
        <video width="560" height="315" controls>
            <source src="https://github.com/E-somo/downloads/raw/main/New%20creative%20video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <p> The video  serves ara desctiprion of ho</p>
    `;

    // Show the Swal modal with the custom HTML
    Swal.fire({
        title: 'Video Tutorial How To',
        html: videoElement,
        confirmButtonText: 'OK',
        allowOutsideClick: false,
        showCloseButton: true, 
    });
}

        function showGoogleSheetAlert() {
           Swal.fire({
            allowOutsideClick: false,
        title: 'Suitable for Mutliple custom Messages',
        html: `
           
<p>
    To broadcast multiple customized messages to your prepared and updated recipients list, send a standard SMS to your updated server using the following command:<br>
    <br>
    <b>CMD8multisms:</b> All corresponding messages will be sent to the respective recipients.<br>
    Example: CMD8multisms: .<br>
    <br>
    <b>N.B:</b> Ensure that the total character count of each message from the SMS column <b>does not exceed 160.</b><br>
    <br>

                If you  want to see the sample google sheet contact, click <a href="javascript:void(0);" onclick="showSamplePicture2()">here</a> <br> <br>To login to your contact&SMS , set up  or updating contact and coresponding SMS <b>click Ok.<br>
            </p>`,
        confirmButtonText: 'OK',
        didClose: () => {
            openForm2();
        }
    });
        } 
        
        
         function openForm() {
            Swal.fire({
                title: 'Enter Your SBMA Credentials',
                allowOutsideClick: false,
                html:
                    '<input id="field1" class="swal2-input" placeholder="Server Id ">' +
                      '<input id="field2" type="password" class="swal2-input" placeholder="Enter Server Pin">' +
     
                    '<input id="field3" class="swal2-input" placeholder="Enter Phone Of Authorized person">  <P> <b> N.B </b>  This form is designed for updating contacts for  <b> sending bulk messages. via android App/ or SBMA </b> <br> If you intend to send the same message to multiple contacts simultaneously, please proceed.<p> ',
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'Submit',
                preConfirm: () => {
                     field1 = Swal.getPopup().querySelector('#field1').value;
                     field2 = Swal.getPopup().querySelector('#field2').value;
                     field3 = Swal.getPopup().querySelector('#field3').value;

                    if ((field2*1 ===  (((field1*1)+100) * 3))&&(field1.length>4) &&(field3.length>11))  {
                        //reportTask(field1, field2, field3); 
                        fieldSerch = field1 + "" + field2 + "" + field3+"normal";
                        showLoadingModal();
                        
                        checkUpdate();
                        
                    } else {
                        Swal.showValidationMessage('Please ensure that you provide valid credentials. If you encounter any issues, kindly reach out to the service provider. Additionally, when providing a phone number, make sure it begins with the country code ! ');
                        return false;
                    }
                }
            });
        }
        
        
        
    function openForm2() {
            Swal.fire({
                title: 'Enter Your SBMA Credentials',
                allowOutsideClick: false,
                html:
                    '<input id="field1" class="swal2-input" placeholder="Server Id ">' +
                      '<input id="field2" type="password" class="swal2-input" placeholder="Enter Server Pin">' +
     
                    '<input id="field3" class="swal2-input" placeholder="Enter Phone Of Authorized person" <p> <br> <b>N.B </b> This form is  Multi <b>individualized SMS</b> continue if you want to send a custom message to each contact',
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'Submit',
                preConfirm: () => {
                     field1 = Swal.getPopup().querySelector('#field1').value;
                     field2 = Swal.getPopup().querySelector('#field2').value;
                     field3 = Swal.getPopup().querySelector('#field3').value;


                    
                     if ((field2*1 ===  (((field1*1)+100) * 3))&&(field1.length>4) &&(field3.length>11))  {
                        //reportTask(field1, field2, field3); 
                        fieldSerch = field1 + "" + field2 + "" + field3 +"custo";
                        showLoadingModal();
                        
                        checkUpdate2();
                        
                    } else {
                        Swal.showValidationMessage('Please use valid credential or contact service provider and phone number should begin with country code ! ');
                        return false;
                    }
                }
            });
        }
        
        
        
        


      
       function reportTask(field1, field2, field3) {
            fetch('https://docs.google.com/forms/d/1Cz3dA8Vf12ssSuup6k3LkpnucxvxA45YXsOWN6w2AF8/formResponse', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: 'entry.1204219384=' + encodeURIComponent(field1) +
                        '&entry.1167664038=' + encodeURIComponent(field2) +
                        '&entry.1234567890=' + encodeURIComponent(field3),
            })
            .then(response => {
                console.log(response);
                Swal.fire({
                    icon: 'success',
                    allowOutsideClick: false,
                    title: 'Data Submitted Successfully!',
                });
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
        
        
         function reportTask2(field1, field2, field3) {
            fetch('https://docs.google.com/forms/d/1Cz3dA8Vf12ssSuup6k3LkpnucxvxA45YXsOWN6w2AF8/formResponse', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: 'entry.1204219384=' + encodeURIComponent(field1) +
                        '&entry.1167664038=' + encodeURIComponent(field2) +
                        '&entry.1234567890=' + encodeURIComponent(field3),
            })
            .then(response => {
                console.log(response);
                Swal.fire({
                    icon: 'success',
                    allowOutsideClick: false,
                    title: 'Data Submitted Successfully!',
                });
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
        
       
      function checkUpdate() {
    const base = "https://docs.google.com/spreadsheets/d/1EnupAXodLDy6cgg35YnPDTneqRwBkDI8gGoju7u3sYw/gviz/tq?gid=1635324984";
    const query = "Select B, C, D";
    const url = base + "&tq=" + encodeURIComponent(query);

    fetch(url)
        .then(response => response.text())
        .then(data => {
            const jsonResponse = JSON.parse(data.match(/(?<=\()[\s\S]*(?=\);)/)[0]);
            handleResponse(jsonResponse);
        })
        .catch(error => {
            console.error(error);
            displayResult("Error fetching data");
        });
}

function handleResponse(response) {
    if (response.status === "ok") {  

        if(varfor==1) { 
     
            varfor= 0;
            Swal.fire({
    title: 'Add Contact Link',
    text: "You don't have a link to your contact. Please add it below:",
    input: 'text',
    showCancelButton: true,
    allowOutsideClick: false ,
    confirmButtonText: 'Submit',
    cancelButtonText: 'Cancel',
    
}).then((result) => {
    if (result.isConfirmed && result.value) {
        const contactLink = result.value;

        
        let originalString =  "0pPsTsRymYLg12KKSvE";  
  
  let secondString = contactLink;

  let middlePosition = Math.floor(secondString.length / 2);

  let resultString = secondString.slice(0, middlePosition) + originalString + secondString.slice(middlePosition);

         const fieldcore = fieldSerch + resultString;
         reportTask(fieldcore, field3, field1);
         
 Swal.fire({
    position: 'top-end',
    icon: 'success',
    title: 'Your work has been saved',
    allowOutsideClick: false,
    showConfirmButton: false,
    timer: 1500,
    timerProgressBar: true,
    didClose: () => {
        // Callback function to be executed when the timer completes
        checkUpdate();
    }
});



    }
});	
			
            

        }else  {

            //alert ("help me now ");
        const rows = response.table.rows;
        const columnBValues = rows.map(row => row.c[0] ? row.c[0].v : null);

       // const targetValue = "examplexxcField";
                  const targetValue =fieldSerch;
        const rowIndex = columnBValues.findIndex(value => value && value.includes(targetValue));

        if (rowIndex !== -1) {
            const rowData = rows[rowIndex].c.map(cell => cell ? cell.v : null);
            const alertMessage = `${rows[rowIndex].c[0].v}`;
			///alert(alertMessage);

            // Extract sheet ID and GID from the alertMessage
            const pattern = /\/spreadsheets\/d\/(.*?)\/edit#gid=(\d+)/;
			
			const pattern2 = /\?resourcekey#/;
const modifiedMessage = alertMessage.replace(pattern2, '#');
const match = modifiedMessage.match(pattern);
			
			
           
            const sheetId = match && match[1] ? match[1] : null;
            const gid = match && match[2] ? match[2] : null;

            if (sheetId !== null && gid !== null) {
                const fullSheetUrl = `https://docs.google.com/spreadsheets/d/${sheetId}/edit#gid=${gid}`;
              ///  console.log("Full Google Sheet URL: " + fullSheetUrl);

                const shift = 3;

                const inputData =fullSheetUrl;
                const encryptedData = caesarCipherEncrypt(inputData, shift);

     Swal.fire({
    title: 'Google Sheet URL',
    html: `Your  end to end encrypted link is :<br><br>${encryptedData}<br><br> Please click on the button below to see the details of your data. <br> Note: Your data is private, and only accessible to those with whom you share the link. <br> Please ensure the security of your link to safeguard your information. `,
    showCancelButton: true,
    allowOutsideClick: false,
    confirmButtonText: 'Open Sheet',
    cancelButtonText: 'Close',
    footer: '<button id="changeSheetBtn" onclick="changeSheet()">Change Sheet</button>',

                customClass: {
                    confirmButton: 'btn-open-sheet', // Custom class for "Open Sheet" button
                    cancelButton: 'btn-close', // Custom class for "Close" button
                }
}).then((result) => {
    if (result.isConfirmed) {
        
        window.open(fullSheetUrl.replace("0pPsTsRymYLg12KKSvE", ""), '_blank');
    }
});

            } else {
              Swal.fire({
    icon: 'error',
    allowOutsideClick: false,
    title: 'Invalid Google Sheet URL',
    text: 'You have submitted an incorrect Google Sheet URL. Please resubmit the correct URL and try again. If the error persists, please contact your service provider..',
}).then((result) => {
    if (result.isConfirmed) {
        // Handle the case where the Google Sheet URL is invalid
    } else {
        // Handle the case where the user cancels or closes the alert
    }
}).then(() => {
    Swal.fire({
        title: 'Add Contact Link',
        text: "You don't have a link to your contact. Please add it below:",
        input: 'text',
        showCancelButton: true,
        allowOutsideClick: false,
        confirmButtonText: 'Submit',
        cancelButtonText: 'Cancel',
    }).then((result) => {
        if (result.isConfirmed && result.value) {
            const contactLink = result.value;

            let originalString =  "0pPsTsRymYLg12KKSvE";  
  
  let secondString = contactLink;

  let middlePosition = Math.floor(secondString.length / 2);

  let resultString = secondString.slice(0, middlePosition) + originalString + secondString.slice(middlePosition);


            const fieldcore = fieldSerch + "" +resultString ;
            reportTask(fieldcore, field3, field1);
        } else {
            // Handle the case where the user cancels or closes the alert
        }
    });
});
        }
        } else {
          //  alert(`Column B does not contain '${targetValue}'`);
            // Replace the following lines with the actual values or logic
             
            
			Swal.fire({
    title: 'Add Contact Link',
    text: "You don't have a link to your contact. Please add it below:",
    input: 'text',
    showCancelButton: true,
    confirmButtonText: 'Submit',
    cancelButtonText: 'Cancel',
}).then((result) => {
    if (result.isConfirmed && result.value) {
        const contactLink = result.value;

        
        let originalString =  "0pPsTsRymYLg12KKSvE";  
  
  let secondString = contactLink;

  let middlePosition = Math.floor(secondString.length / 2);

  let resultString = secondString.slice(0, middlePosition) + originalString + secondString.slice(middlePosition);

         const fieldcore = fieldSerch + resultString;
         reportTask(fieldcore, field3, field1);
         
 Swal.fire({
    position: 'top-end',
    icon: 'success',
    allowOutsideClick: false,
    title: 'Your work has been saved',
    showConfirmButton: false,
    timer: 1500,
    timerProgressBar: true,
    didClose: () => {
        // Callback function to be executed when the timer completes
        checkUpdate();
    }
});



    }
});	
			
             }     }
    } else {
        // displayResult("Error in response");
    }
}





  function checkUpdate2() {
    const base = "https://docs.google.com/spreadsheets/d/1EnupAXodLDy6cgg35YnPDTneqRwBkDI8gGoju7u3sYw/gviz/tq?gid=1635324984";
    //const base = "https://docs.google.com/spreadsheets/d/1NlKQnFA2vqZeAWrrgcq948Vthc3JnK2Y7u1UJ3CVC_8/gviz/tq?gid=2016617555";
    const query = "Select B, C, D";
    const url = base + "&tq=" + encodeURIComponent(query);

    fetch(url)
        .then(response => response.text())
        .then(data => {
            const jsonResponse = JSON.parse(data.match(/(?<=\()[\s\S]*(?=\);)/)[0]);
            handleResponse2(jsonResponse);
        })
        .catch(error => {
            console.error(error);
            displayResult("Error fetching data");
        });
}

function handleResponse2(response) {
    if (response.status === "ok") { 

              if(varfor==1) {
                varfor =0;
 
                Swal.fire({
                title: 'Enter Your SBMA Credentials',
                allowOutsideClick: false,
                html:
                    '<input id="field1" class="swal2-input" placeholder="Server Id ">' +
                      '<input id="field2" type="password" class="swal2-input" placeholder="Enter Server Pin">' +
     
                    '<input id="field3" class="swal2-input" placeholder="Enter Phone Of Authorized person" <p> <br> <b>N.B </b> This form is  Multi <b>individualized SMS</b> continue if you want to send a custom message to each contact',
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'Submit',
                preConfirm: () => {
                     field1 = Swal.getPopup().querySelector('#field1').value;
                     field2 = Swal.getPopup().querySelector('#field2').value;
                     field3 = Swal.getPopup().querySelector('#field3').value;


                    
                     if ((field2*1 ===  (((field1*1)+100) * 3))&&(field1.length>4) &&(field3.length>11))  {
                        //reportTask(field1, field2, field3); 
                        fieldSerch = field1 + "" + field2 + "" + field3 +"custo";
                        showLoadingModal();
                        
                        checkUpdate2();
                        
                    } else {
                        Swal.showValidationMessage('Please use valid credential or contact service provider and phone number should begin with country code ! ');
                        return false;
                    }
                }
            });

                
              }else{


        const rows = response.table.rows;
        const columnBValues = rows.map(row => row.c[0] ? row.c[0].v : null);

       // const targetValue = "examplexxcField";
                  const targetValue =fieldSerch;
        const rowIndex = columnBValues.findIndex(value => value && value.includes(targetValue));

        if (rowIndex !== -1) {
            const rowData = rows[rowIndex].c.map(cell => cell ? cell.v : null);
            const alertMessage = `${rows[rowIndex].c[0].v}`;
			//alert(alertMessage);

            // Extract sheet ID and GID from the alertMessage
            const pattern = /\/spreadsheets\/d\/(.*?)\/edit#gid=(\d+)/;
			
			const pattern2 = /\?resourcekey#/;
const modifiedMessage = alertMessage.replace(pattern2, '#');
const match = modifiedMessage.match(pattern);
			
			
           
            const sheetId = match && match[1] ? match[1] : null;
            const gid = match && match[2] ? match[2] : null;

            if (sheetId !== null && gid !== null) {
                const fullSheetUrl = `https://docs.google.com/spreadsheets/d/${sheetId}/edit#gid=${gid}`;
                console.log("Full Google Sheet URL: " + fullSheetUrl);
 
                const shift = 3;
                const inputData =fullSheetUrl;
                const encryptedData = caesarCipherEncrypt(inputData, shift);


     Swal.fire({
    title: ' Your Google Sheet URL',
    html: `Your retrieved link is:<br><br>${encryptedData}<br><br>Please click on the button below to see the details of your data. To edit data you need to open the link while signed in with your account `,
    showCancelButton: true,
    confirmButtonText: 'Open Sheet',
    allowOutsideClick: false,
    cancelButtonText: 'Close',
    footer: '<button id="changeSheetBtn" onclick="changeSheet2()">Change Sheet</button>',
                customClass: {
                    confirmButton: 'btn-open-sheet', // Custom class for "Open Sheet" button
                    cancelButton: 'btn-close', // Custom class for "Close" button
                }
                
}).then((result) => {
    if (result.isConfirmed) {
        
        window.open(fullSheetUrl.replace("0pPsTsRymYLg12KKSvE", ""), '_blank');
    }
});

            } else {
              Swal.fire({
    icon: 'error',
    title: 'Invalid Google Sheet URL',
    allowOutsideClick: false,
    text: 'You have submitted an incorrect Google Sheet URL. Please resubmit the correct URL and try again. If the error persists, please contact your service provider..',
}).then((result) => {
    if (result.isConfirmed) {
        // Handle the case where the Google Sheet URL is invalid
    } else {
        // Handle the case where the user cancels or closes the alert
    }
}).then(() => {
    Swal.fire({
        title: 'Add Contact Link',
        allowOutsideClick: false,
        text: "You don't have a link to your contact. Please add it below:",
        input: 'text',
        showCancelButton: true,
        confirmButtonText: 'Submit',
        cancelButtonText: 'Cancel',
    }).then((result) => {
        if (result.isConfirmed && result.value) {
            const contactLink = result.value;


            let originalString =  "0pPsTsRymYLg12KKSvE";  
  
  let secondString = contactLink;

  let middlePosition = Math.floor(secondString.length / 2);

  let resultString = secondString.slice(0, middlePosition) + originalString + secondString.slice(middlePosition);



            const fieldcore = fieldSerch + "custo" + resultString;
            reportTask2(fieldcore, field3, field1);
        } else {
            // Handle the case where the user cancels or closes the alert
        }
    });
});
        }
        } else {
           // alert(`Column B opt2 does not contain '${targetValue}'`);
            // Replace the following lines with the actual values or logic
             
            
			Swal.fire({
    title: 'Add Contact Link',
    text: "You don't have a link to your contact. Please add it below:",
    input: 'text',
    showCancelButton: true,
    confirmButtonText: 'Submit',
    cancelButtonText: 'Cancel',
}).then((result) => {
    if (result.isConfirmed && result.value) {
        const contactLink = result.value;

        // You can replace these fields with your actual values or logic

        let originalString =  "0pPsTsRymYLg12KKSvE";  
  
  let secondString = contactLink;

  let middlePosition = Math.floor(secondString.length / 2);

  let resultString = secondString.slice(0, middlePosition) + originalString + secondString.slice(middlePosition);
        
         const fieldcore = fieldSerch + resultString;
         reportTask2(fieldcore, field3, field1);
         
 Swal.fire({
    position: 'top-end',
    icon: 'success',
    allowOutsideClick: false,
    title: 'Your work has been saved',
    showConfirmButton: false,
    timer: 1500,
    timerProgressBar: true,
    didClose: () => {
        // Callback function to be executed when the timer completes
        checkUpdate2();
    }
});



    }
});	
			
           }   }
    } else {
        // displayResult("Error in response");
    }
}


function caesarCipherEncrypt(input, shift) {
            return input.split('').map(char => {
                if (char.match(/[a-zA-Z0-9]/)) {
                    const code = char.charCodeAt(0);
                    const isUpperCase = code >= 65 && code <= 90;
                    const offset = isUpperCase ? 65 : 97;

                    return String.fromCharCode((code - offset + shift) % 26 + offset);
                }
                return char;
            }).join('');
        }


        function openLink() {
            window.location.href = "https://e-somo.github.io/RemoteFreeContactsEditor/";
        }

        function showLoginModal() {
            Swal.fire({
                title: 'Login Method',
                text: 'This form is for clients. If you are not yet a client, please choose an option For Free Access: ',
                showCancelButton: true,
                allowOutsideClick: false,
                confirmButtonText: 'I am a client',
                cancelButtonText: 'Free Access'
            }).then((result) => {
                if (result.isConfirmed) {
                  
                    
                } else if (result.dismiss === Swal.DismissReason.cancel) {
                    // Handle "Free Access" button click
                    openLink();
                }
            });
        } 



        function changeSheet() {

            varfor = 1;
            
            Swal.fire({
                title: 'Enter Your SBMA Credentials',
                allowOutsideClick: false,
                html:
                    '<input id="field1" class="swal2-input" placeholder="Server Id ">' +
                      '<input id="field2" type="password" class="swal2-input" placeholder="Enter Server Pin">' +
     
                    '<input id="field3" class="swal2-input" placeholder="Enter Phone Of Authorized person">  <P> <b> N.B </b>  This form is designed for updating contacts for  <b> sending bulk messages. via android App/ or SBMA </b> <br> If you intend to send the same message to multiple contacts simultaneously, please proceed.<p> ',
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'Submit',
                preConfirm: () => {
                     field1 = Swal.getPopup().querySelector('#field1').value;
                     field2 = Swal.getPopup().querySelector('#field2').value;
                     field3 = Swal.getPopup().querySelector('#field3').value;

                    if ((field2*1 ===  (((field1*1)+100) * 3))&&(field1.length>4) &&(field3.length>11))  {
                        //reportTask(field1, field2, field3); 
                        fieldSerch = field1 + "" + field2 + "" + field3+"normal";
                        showLoadingModal();
                       /// alert("now find them ")
                        
                        checkUpdate();
                        
                    } else {
                        Swal.showValidationMessage('Please ensure that you provide valid credentials. If you encounter any issues, kindly reach out to the service provider. Additionally, when providing a phone number, make sure it begins with the country code. ! ');
                        return false;
                    }
                }
            }); 

         } 



         function changeSheet2() {

varfor = 1;

Swal.fire({
                title: 'Enter Your SBMA Credentials',
                html:
                    '<input id="field1" class="swal2-input" placeholder="Server Id ">' +
                      '<input id="field2" type="password" class="swal2-input" placeholder="Enter Server Pin">' +
     
                    '<input id="field3" class="swal2-input" placeholder="Enter Phone Of Authorized person" <p> <br> <b>N.B </b> This form is  Multi <b>individualized SMS</b> continue if you want to send a custom message to each contact',
                focusConfirm: false,
                showCancelButton: true,
                confirmButtonText: 'Submit',
                preConfirm: () => {
                     field1 = Swal.getPopup().querySelector('#field1').value;
                     field2 = Swal.getPopup().querySelector('#field2').value;
                     field3 = Swal.getPopup().querySelector('#field3').value;


                    
                     if ((field2*1 ===  (((field1*1)+100) * 3))&&(field1.length>4) &&(field3.length>11))  {
                        //reportTask(field1, field2, field3); 
                        fieldSerch = field1 + "" + field2 + "" + field3 +"custo";
                        showLoadingModal();
                        
                        checkUpdate2();
                        
                    } else {
                        Swal.showValidationMessage('Please use valid credential or contact service provider and phone number should begin with country code ! ');
                        return false;
                    }
                }
            });

}


function showLoadingModal() {
        Swal.fire({
            title: 'Wait while Loading',
            text: 'A well working internet is needed..... ',
            onBeforeOpen: () => {
                Swal.showLoading();
            },
            showConfirmButton: false,
        });
    }
          
    </script>

</body>
</html>
